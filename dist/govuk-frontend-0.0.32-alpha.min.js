!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define("GOVUKFrontend",["exports"],t):t(e.GOVUKFrontend={})}(this,function(e){"use strict";function t(e,t){if(window.NodeList.prototype.forEach)return e.forEach(t);for(var n=0;n<e.length;n++)t.call(window,e[n],n,e)}(function(e){"Window"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&function(e){e.constructor?e.Window=e.constructor:(e.Window=e.constructor=new Function("return function Window() {}")()).prototype=this}(this)}).call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Document"in this||"undefined"==typeof WorkerGlobalScope&&"function"!=typeof importScripts&&(this.HTMLDocument?this.Document=this.HTMLDocument:(this.Document=this.HTMLDocument=document.constructor=new Function("return function Document() {}")(),this.Document.prototype=document))}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){"Element"in this&&"HTMLElement"in this||function(){if(!window.Element||window.HTMLElement){window.Element=window.HTMLElement=new Function("return function Element() {}")();var e,t=document.appendChild(document.createElement("body")),n=t.appendChild(document.createElement("iframe")).contentWindow.document,o=Element.prototype=n.appendChild(n.createElement("*")),r={},i=function(e,t){var n,o,a,c=e.childNodes||[],u=-1;if(1===e.nodeType&&e.constructor!==Element)for(n in e.constructor=Element,r)o=r[n],e[n]=o;for(;a=t&&c[++u];)i(a,t);return e},a=document.getElementsByTagName("*"),c=document.createElement,u=100;o.attachEvent("onpropertychange",function(e){for(var t,n=e.propertyName,i=!r.hasOwnProperty(n),c=o[n],u=r[n],l=-1;t=a[++l];)1===t.nodeType&&(i||t[n]===u)&&(t[n]=c);r[n]=c}),o.constructor=Element,o.hasAttribute||(o.hasAttribute=function(e){return null!==this.getAttribute(e)}),l()||(document.onreadystatechange=l,e=setInterval(l,25)),document.createElement=function(e){var t=c(String(e).toLowerCase());return i(t)},document.removeChild(t)}else window.HTMLElement=window.Element;function l(){return u--||clearTimeout(e),!(!document.body||document.body.prototype||!/(complete|interactive)/.test(document.readyState))&&(i(document,!0),e&&document.body.prototype&&clearTimeout(e),!!document.body.prototype)}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){var t,n,o,r;"defineProperty"in Object&&function(){try{return Object.defineProperty({},"test",{value:42}),!0}catch(e){return!1}}()||(t=Object.defineProperty,n=Object.prototype.hasOwnProperty("__defineGetter__"),o="Getters & setters cannot be defined on this javascript engine",r="A property cannot both have accessors and be writable or have a value",Object.defineProperty=function(e,i,a){if(t&&(e===window||e===document||e===Element.prototype||e instanceof Element))return t(e,i,a);if(null===e||!(e instanceof Object||"object"==typeof e))throw new TypeError("Object.defineProperty called on non-object");if(!(a instanceof Object))throw new TypeError("Property description must be an object");var c=String(i),u="value"in a||"writable"in a,l="get"in a&&typeof a.get,s="set"in a&&typeof a.set;if(l){if("function"!==l)throw new TypeError("Getter must be a function");if(!n)throw new TypeError(o);if(u)throw new TypeError(r);Object.__defineGetter__.call(e,c,a.get)}else e[c]=a.value;if(s){if("function"!==s)throw new TypeError("Setter must be a function");if(!n)throw new TypeError(o);if(u)throw new TypeError(r);Object.__defineSetter__.call(e,c,a.set)}return"value"in a&&(e[c]=a.value),e})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{}),function(e){(function(e){if(!("Event"in e))return!1;if("function"==typeof e.Event)return!0;try{return new Event("click"),!0}catch(e){return!1}})(this)||function(){var t={click:1,dblclick:1,keyup:1,keypress:1,keydown:1,mousedown:1,mouseup:1,mousemove:1,mouseover:1,mouseenter:1,mouseleave:1,mouseout:1,storage:1,storagecommit:1,textinput:1};if("undefined"!=typeof document&&"undefined"!=typeof window){var n=window.Event&&window.Event.prototype||null;window.Event=Window.prototype.Event=function(t,n){if(!t)throw new Error("Not enough arguments");var o;if("createEvent"in document){o=document.createEvent("Event");var r=!(!n||n.bubbles===e)&&n.bubbles,i=!(!n||n.cancelable===e)&&n.cancelable;return o.initEvent(t,r,i),o}return(o=document.createEventObject()).type=t,o.bubbles=!(!n||n.bubbles===e)&&n.bubbles,o.cancelable=!(!n||n.cancelable===e)&&n.cancelable,o},n&&Object.defineProperty(window.Event,"prototype",{configurable:!1,enumerable:!1,writable:!0,value:n}),"createEvent"in document||(window.addEventListener=Window.prototype.addEventListener=Document.prototype.addEventListener=Element.prototype.addEventListener=function(){var e=this,n=arguments[0],r=arguments[1];if(e===window&&n in t)throw new Error("In IE8 the event: "+n+" is not available on the window object. Please see https://github.com/Financial-Times/polyfill-service/issues/317 for more information.");e._events||(e._events={}),e._events[n]||(e._events[n]=function(t){var n,r=e._events[t.type].list,i=r.slice(),a=-1,c=i.length;for(t.preventDefault=function(){!1!==t.cancelable&&(t.returnValue=!1)},t.stopPropagation=function(){t.cancelBubble=!0},t.stopImmediatePropagation=function(){t.cancelBubble=!0,t.cancelImmediate=!0},t.currentTarget=e,t.relatedTarget=t.fromElement||null,t.target=t.target||t.srcElement||e,t.timeStamp=(new Date).getTime(),t.clientX&&(t.pageX=t.clientX+document.documentElement.scrollLeft,t.pageY=t.clientY+document.documentElement.scrollTop);++a<c&&!t.cancelImmediate;)a in i&&-1!==o(r,n=i[a])&&"function"==typeof n&&n.call(e,t)},e._events[n].list=[],e.attachEvent&&e.attachEvent("on"+n,e._events[n])),e._events[n].list.push(r)},window.removeEventListener=Window.prototype.removeEventListener=Document.prototype.removeEventListener=Element.prototype.removeEventListener=function(){var e,t=this,n=arguments[0],r=arguments[1];t._events&&t._events[n]&&t._events[n].list&&-1!==(e=o(t._events[n].list,r))&&(t._events[n].list.splice(e,1),t._events[n].list.length||(t.detachEvent&&t.detachEvent("on"+n,t._events[n]),delete t._events[n]))},window.dispatchEvent=Window.prototype.dispatchEvent=Document.prototype.dispatchEvent=Element.prototype.dispatchEvent=function(e){if(!arguments.length)throw new Error("Not enough arguments");if(!e||"string"!=typeof e.type)throw new Error("DOM Events Exception 0");var t=this,n=e.type;try{if(!e.bubbles){e.cancelBubble=!0;var o=function(e){e.cancelBubble=!0,(t||window).detachEvent("on"+n,o)};this.attachEvent("on"+n,o)}this.fireEvent("on"+n,e)}catch(o){e.target=t;do{e.currentTarget=t,"_events"in t&&"function"==typeof t._events[n]&&t._events[n].call(t,e),"function"==typeof t["on"+n]&&t["on"+n].call(t,e),t=9===t.nodeType?t.parentWindow:t.parentNode}while(t&&!e.cancelBubble)}return!0},document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&document.dispatchEvent(new Event("DOMContentLoaded",{bubbles:!0}))}))}function o(e,t){for(var n=-1,o=e.length;++n<o;)if(n in e&&e[n]===t)return n;return-1}}()}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});function n(e){this.$module=e}n.prototype.handleKeyDown=function(e){var t=e.target;"button"===t.getAttribute("role")&&32===e.keyCode&&(e.preventDefault(),t.click())},n.prototype.init=function(){this.$module.addEventListener("keydown",this.handleKeyDown)},function(e){"bind"in Function.prototype||Object.defineProperty(Function.prototype,"bind",{value:function(e){var t,n=Array,o=Object,r=o.prototype,i=n.prototype,a=function(){},c=r.toString,u="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,l=Function.prototype.toString;t=function(e){if("function"!=typeof e)return!1;if(u)return function(e){try{return l.call(e),!0}catch(e){return!1}}(e);var t=c.call(e);return"[object Function]"===t||"[object GeneratorFunction]"===t};var s=i.slice,d=i.concat,p=i.push,f=Math.max,m=this;if(!t(m))throw new TypeError("Function.prototype.bind called on incompatible "+m);for(var y,b=s.call(arguments,1),h=f(0,m.length-b.length),v=[],w=0;w<h;w++)p.call(v,"$"+w);return y=Function("binder","return function ("+v.join(",")+"){ return binder.apply(this, arguments); }")(function(){if(this instanceof y){var t=m.apply(this,d.call(b,s.call(arguments)));return o(t)===t?t:this}return m.apply(e,d.call(b,s.call(arguments)))}),m.prototype&&(a.prototype=m.prototype,y.prototype=new a,a.prototype=null),y}})}.call("object"==typeof window&&window||"object"==typeof self&&self||"object"==typeof global&&global||{});var o="boolean"==typeof document.createElement("details").open;function r(e){this.$module=e}function i(e){this.$module=e,this.$inputs=e.querySelectorAll('input[type="checkbox"]')}function a(e){this.$module=e}function c(e){this.$module=e}function u(e){this.$module=e,this.$inputs=e.querySelectorAll('input[type="radio"]')}r.prototype.handleInputs=function(e,t){e.addEventListener("keypress",function(e){var n=e.target;13!==e.keyCode&&32!==e.keyCode||"summary"===n.nodeName.toLowerCase()&&(e.preventDefault(),n.click?n.click():t(e))}),e.addEventListener("keyup",function(e){var t=e.target;32===e.keyCode&&"summary"===t.nodeName.toLowerCase()&&e.preventDefault()}),e.addEventListener("click",t)},r.prototype.init=function(){var e=this.$module;if(e){var t,n=this.$summary=e.getElementsByTagName("summary").item(0),r=this.$content=e.getElementsByTagName("div").item(0);if(n&&r)r.id||(r.id="details-content-"+(t=(new Date).getTime(),void 0!==window.performance&&"function"==typeof window.performance.now&&(t+=window.performance.now()),"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var n=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?n:3&n|8).toString(16)}))),e.setAttribute("role","group"),n.setAttribute("role","button"),n.setAttribute("aria-controls",r.id),o||(n.tabIndex=0),!0===(null!==e.getAttribute("open"))?(n.setAttribute("aria-expanded","true"),r.setAttribute("aria-hidden","false")):(n.setAttribute("aria-expanded","false"),r.setAttribute("aria-hidden","true"),o||(r.style.display="none")),this.handleInputs(e,this.setAttributes.bind(this))}},r.prototype.setAttributes=function(){var e=this.$module,t=this.$summary,n=this.$content,r="true"===t.getAttribute("aria-expanded"),i="true"===n.getAttribute("aria-hidden");(t.setAttribute("aria-expanded",r?"false":"true"),n.setAttribute("aria-hidden",i?"false":"true"),o)||(n.style.display=r?"none":"",null!==e.getAttribute("open")?e.removeAttribute("open"):e.setAttribute("open","open"));return!0},r.prototype.destroy=function(e){e.removeEventListener("keypress"),e.removeEventListener("keyup"),e.removeEventListener("click")},i.prototype.init=function(){var e=this.$module;t(this.$inputs,function(t){var n=t.getAttribute("data-aria-controls");n&&e.querySelector("#"+n)&&(t.setAttribute("aria-controls",n),t.removeAttribute("data-aria-controls"),this.setAttributes(t))}.bind(this)),e.addEventListener("click",this.handleClick.bind(this))},i.prototype.setAttributes=function(e){var t=e.checked;e.setAttribute("aria-expanded",t),document.querySelector("#"+e.getAttribute("aria-controls")).setAttribute("aria-hidden",!t)},i.prototype.handleClick=function(e){var t=e.target,n="checkbox"===t.getAttribute("type"),o=t.getAttribute("aria-controls");n&&o&&this.setAttributes(t)},a.prototype.init=function(){var e=this.$module;e&&window.addEventListener("load",function(){e.focus()})},c.prototype.init=function(){var e=this.$module;if(e){var t=e.querySelector(".js-header-toggle");t&&t.addEventListener("click",this.handleClick.bind(this))}},c.prototype.toggleClass=function(e,t){e.className.indexOf(t)>0?e.className=e.className.replace(" "+t,""):e.className+=" "+t},c.prototype.handleClick=function(e){var t=this.$module,n=e.target||e.srcElement,o=t.querySelector("#"+n.getAttribute("aria-controls"));n&&o&&(this.toggleClass(o,"govuk-header__navigation--open"),this.toggleClass(n,"govuk-header__menu-button--open"),n.setAttribute("aria-expanded","true"!==n.getAttribute("aria-expanded")),o.setAttribute("aria-hidden","false"===o.getAttribute("aria-hidden")))},u.prototype.init=function(){var e=this.$module;t(this.$inputs,function(t){var n=t.getAttribute("data-aria-controls");n&&e.querySelector("#"+n)&&(t.setAttribute("aria-controls",n),t.removeAttribute("data-aria-controls"),this.setAttributes(t))}.bind(this)),e.addEventListener("click",this.handleClick.bind(this))},u.prototype.setAttributes=function(e){var t=e.checked;e.setAttribute("aria-expanded",t),document.querySelector("#"+e.getAttribute("aria-controls")).setAttribute("aria-hidden",!t)},u.prototype.handleClick=function(e){t(this.$inputs,function(e){var t="radio"===e.getAttribute("type"),n=e.getAttribute("aria-controls");t&&n&&this.setAttributes(e)}.bind(this))},e.initAll=function(){new n(document).init(),t(document.querySelectorAll("details"),function(e){new r(e).init()}),t(document.querySelectorAll('[data-module="checkboxes"]'),function(e){new i(e).init()}),new a(document.querySelector('[data-module="error-summary"]')).init(),new c(document.querySelector('[data-module="header"]')).init(),t(document.querySelectorAll('[data-module="radios"]'),function(e){new u(e).init()})},e.Button=n,e.Details=r,e.Checkboxes=i,e.ErrorSummary=a,e.Header=c,e.Radios=u});
