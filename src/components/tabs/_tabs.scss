@import "../../settings/all";
@import "../../tools/all";
@import "../../helpers/all";

@include govuk-exports("govuk/component/tabs") {

  .govuk-tabs {
    @include govuk-font($size: 19);
    @include govuk-text-colour;
    @include govuk-responsive-margin($govuk-spacing-responsive-1, "top");
  }

  .govuk-tabs__title {
    @include govuk-font($size: 19);
    margin-bottom: $govuk-spacing-scale-1;
  }

  .govuk-tabs__list {
    margin: 0;
    padding: 0;
    list-style: none;
    @include mq($until: tablet) {
      @include govuk-responsive-margin($govuk-spacing-responsive-2, "bottom");
    }
  }

  .govuk-tabs__list-item {
    margin-left: $govuk-spacing-scale-5;

    &::before {
      content: "â€” ";
      margin-left: - $govuk-spacing-scale-5;
      padding-right: $govuk-spacing-scale-1;
    }
  }

  .govuk-tabs__tab {
    @include govuk-font($size: 19);
    display: inline-block;
    padding-top: $govuk-spacing-scale-2;
    padding-bottom: $govuk-spacing-scale-2;

    &[aria-current = "true"] {
      color: $govuk-black;
      text-decoration: none;
    }
  }

  // JavaScript enabled
  .js-enabled .govuk-tabs {

    @include mq($until: tablet) {
      .govuk-tabs__panel {
        display: block;
      }
    }

    @include mq($from: tablet) {

      .govuk-tabs__list {
        @include govuk-clearfix;
        border-bottom: 1px solid $govuk-border-colour;
      }

      .govuk-tabs__list-item {
        margin-left: 0;

        &::before {
          content: none;
        }
      }

      .govuk-tabs__title {
        display: none;
      }

      .govuk-tabs__tab {
        margin-right: $govuk-spacing-scale-1;
        padding-right: $govuk-spacing-scale-4;
        padding-left: $govuk-spacing-scale-4;
        float: left;
        color: $govuk-black;
        background-color: $govuk-grey-4;
        text-align: center;
        text-decoration: none;

        &:focus {
          outline: none;
          background-color: $govuk-focus-colour;
          box-shadow: inset 0 0 0 3px $govuk-focus-colour;
        }

        &[aria-selected= "true"] {
          margin-top: - $govuk-spacing-scale-1;
          margin-bottom: -1px;

          // 1px is compensation for border (otherwise we get a 1px shift)
          padding-top: $govuk-spacing-scale-3 - 1px;
          padding-right: $govuk-spacing-scale-4 - 1px;
          padding-bottom: $govuk-spacing-scale-3 + 1px;
          padding-left: $govuk-spacing-scale-4 - 1px;

          border: 1px solid $govuk-border-colour;
          border-bottom: 0;
          color: $govuk-black;
          background-color: $govuk-white;

          &:focus {
            background-color: transparent;
          }
        }
      }

      .govuk-tabs__panel {
        padding-top: $govuk-spacing-scale-6;
        padding-right: $govuk-spacing-scale-4;
        padding-bottom: $govuk-spacing-scale-2;
        padding-left: $govuk-spacing-scale-4;
        border: 1px solid $govuk-border-colour;
        border-top: 0;
      }
    }

  }

  .js-hidden {
    display: none;
  }
}
